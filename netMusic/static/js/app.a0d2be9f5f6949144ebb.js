webpackJsonp([11],{"1PCG":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("kBI2"),r={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new i.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",function(t){e.$emit("scroll",t)})}this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]};var a=s("C7Lr")(r,n,!1,function(t){s("qkz0")},"data-v-342868ec",null);e.default=a.exports},"34KM":function(t,e){},"3unW":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("4YfN"),r=s.n(i),n=(s("T452"),s("2bvH")),a=s("6AoW"),c=s("W/7t"),o=s("MYfc"),l=s.n(o),u=s("1PCG"),d={data:function(){return{songReady:!1,lyric:"",currentTime:"",duration:"",persent:0,audioObj:null,lyricParser:null,currentLyric:[],currentLyricLine:0,isShowLyric:!1,lyricPlaying:""}},mounted:function(){this.audioObj=this.$refs.audio},computed:r()({},Object(n.c)(["fullScreen","playlist","currentSong","playing","currentIndex","mode"]),{playCls:function(){return this.playing?"icon-pause":"icon-play"},cdCls:function(){return this.playing?"cd play":"cd play pause"},miniPlayCls:function(){return this.playing?"icon-pause-mini":"icon-play-mini"},disableCls:function(){return this.songReady?"":"disable"},modeCls:function(){return this.mode===c.a.squence?"icon-sequence":this.mode===c.a.loop?"icon-loop":"icon-random"}}),methods:r()({_getSongLyric:function(){var t=this;this.currentSong.getLyric().then(function(e){t.currentLyric=new l.a(e,t.handleLyric),t.playing&&t.currentLyric.play()})},handleLyric:function(t){var e=t.lineNum,s=t.txt;if(this.currentLyricLine=e,this.lyricPlaying=s,e>5){var i=this.$refs.lyricLine[e-5];this.$refs.lyricList.scrollToElement(i,1e3)}else this.$refs.lyricList.scrollTo(0,0,1e3)},convertToMini:function(){this.setFullScreen(!1)},convertToNormal:function(){this.setFullScreen(!0)},play:function(){this.setPlayingState(!this.playing),this.playing?this.audioObj.play():this.audioObj.pause(),this.songReady=!0},changeMode:function(){var t=this.mode||0;t<2?t+=1:t=0,this.setPlayMode(t)},_setPlayIndex:function(t){if(this.songReady){var e=this.currentIndex,s=0;if(0==this.mode)s="prev"==t?0===e?this.playlist.length-1:e-1:e===this.playlist.length-1?0:e+1;else if(1==this.mode)s=e;else{var i=this.playlist.length;s=Math.floor(Math.random()*Math.floor(i))}this.setCurrentIndex(s),this.playing||this.play(),this.songReady=!1}},setPlayerPersent:function(t){var e=this.duration*t;"fastSeek"in this.audioObj?this.audioObj.fastSeek(e):this.audioObj.currentTime=e,this.currentLyric&&this.currentLyric.seek(1e3*e),this.setPlayingState(!1),this.play()},ready:function(){this.songReady=!0,this.duration=this.audioObj.duration},error:function(){this.songReady=!0},timeUpdate:function(t){this.currentTime=t.target.currentTime,this.persent=Number(this.currentTime/this.duration||0),1==this.persent&&(this.setPlayingState(!1),this._setPlayIndex("next"),this.currentLyric&&this.currentLyric.seek(0))},format:function(t){return((t|=0)/60|0)+":"+t%60},showLyric:function(){this.isShowLyric=!this.isShowLyric},prev:function(){this._setPlayIndex("prev")},next:function(){this._setPlayIndex("next")}},Object(n.d)({setFullScreen:"SET_FULL_SCREEN",setPlayingState:"SET_PLAYING_STATE",setCurrentIndex:"SET_CURRENT_INDEX",setPlayMode:"SET_PLAY_MODE"})),watch:{currentSong:function(t,e){var s=this;t.id!==e.id&&(this.currentLyric&&(this.currentTime=0,this.lyricPlaying="",this.currentLyricLine=0),clearTimeout(this.timer),this.timer=setTimeout(function(){s.audioObj.play(),s._getSongLyric()},1e3))}},components:{ProgressBar:a.default,Scroll:u.default}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.playlist.length>0,expression:"playlist.length > 0"}],staticClass:"player"},[s("transition",{attrs:{name:"normal"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[s("div",{staticClass:"background"},[s("img",{attrs:{src:t.currentSong.singer_pic,width:"100%",height:"100%"}})]),t._v(" "),s("div",{staticClass:"top"},[s("div",{staticClass:"back"},[s("i",{staticClass:"icon-back",on:{click:t.convertToMini}})]),t._v(" "),s("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.currentSong.name)}}),t._v(" "),s("h2",{staticClass:"subtitle",domProps:{innerHTML:t._s(t.currentSong.singer_name)}})]),t._v(" "),s("div",{staticClass:"middle"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowLyric,expression:"!isShowLyric"}],staticClass:"middle-l"},[s("div",{staticClass:"cd-wrapper"},[s("div",{class:t.cdCls},[s("img",{staticClass:"image",attrs:{src:t.currentSong.singer_pic}})])]),t._v(" "),s("div",{staticClass:"playing-lyric-wrapper"},[s("div",{staticClass:"playing-lyric"},[t._v(t._s(t.lyricPlaying))])])]),t._v(" "),s("scroll",{directives:[{name:"show",rawName:"v-show",value:t.isShowLyric,expression:"isShowLyric"}],ref:"lyricList",staticClass:"middle-r",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[s("div",{staticClass:"lyric-wrapper"},[t.currentLyric.lines?s("div",t._l(t.currentLyric.lines,function(e,i){return s("p",{key:i,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLyricLine===i}},[t._v(t._s(e.txt))])}),0):t._e()])])],1),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"progress-wrapper"},[s("span",{staticClass:"time time-l"},[t._v(t._s(t.format(t.currentTime)))]),t._v(" "),s("div",{staticClass:"progress-bar-wrapper"},[s("progress-bar",{attrs:{pers:t.persent},on:{setPlayerPersent:t.setPlayerPersent}})],1),t._v(" "),s("span",{staticClass:"time time-r"},[t._v(t._s(t.format(t.duration)))])]),t._v(" "),s("div",{staticClass:"operators"},[s("div",{staticClass:"icon i-left",on:{click:t.changeMode}},[s("i",{staticClass:"icon",class:t.modeCls})]),t._v(" "),s("div",{staticClass:"icon i-left",class:t.disableCls},[s("i",{staticClass:"icon-prev",on:{click:t.prev}})]),t._v(" "),s("div",{staticClass:"icon i-center"},[s("i",{class:t.playCls,on:{click:t.play}})]),t._v(" "),s("div",{staticClass:"icon i-right",class:t.disableCls},[s("i",{staticClass:"icon-next",on:{click:t.next}})]),t._v(" "),s("div",{staticClass:"icon i-right",on:{click:t.showLyric}},[s("span",{staticClass:"lyric-label",class:{"lyric-false":!t.isShowLyric}},[t._v("词")])])])])])]),t._v(" "),s("transition",{attrs:{name:"mini"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.convertToNormal}},[s("div",{staticClass:"icon"},[s("img",{class:t.cdCls,attrs:{width:"40",height:"40",src:t.currentSong.singer_pic}})]),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"name",domProps:{innerHTML:t._s(t.currentSong.name)}}),t._v(" "),s("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.currentSong.singer_name)}})]),t._v(" "),s("div",{staticClass:"control",on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[s("i",{class:t.miniPlayCls})]),t._v(" "),s("div",{staticClass:"control"},[s("i",{staticClass:"icon-playlist"})])])]),t._v(" "),s("audio",{ref:"audio",attrs:{src:t.currentSong.url},on:{play:t.ready,error:t.error,timeupdate:t.timeUpdate}})],1)},staticRenderFns:[]};var f=s("C7Lr")(d,h,!1,function(t){s("dXxw")},"data-v-cad144b6",null);e.default=f.exports},"6AoW":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"progress-bar",data:function(){return{touch:{}}},props:["pers"],methods:{clickProgress:function(t){this._setOffset(t.offsetX),this._setPlayerProgress()},pTouchstart:function(t){this.touch.inits=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},pTouchMove:function(t){if(this.touch.inits){var e=t.touches[0].pageX-this.touch.startX,s=Math.min(this.$refs.progressBar.clientWidth-16,Math.max(0,this.touch.left+e));this._setOffset(s)}},pTouchEnd:function(){this.touch.inits=!1,this._setPlayerProgress()},_setOffset:function(t){this.$refs.progress.style.width=t+"px",this.$refs.btn.style.left=t+8+"px"},_setPlayerProgress:function(){var t=this.$refs.progressBar.clientWidth-16,e=this.$refs.progress.clientWidth/t;this.$emit("setPlayerPersent",e)}},watch:{pers:function(t){if(t>0&&!this.touch.inits){var e=t*(this.$refs.progressBar.clientWidth-16);this._setOffset(e)}}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.clickProgress}},[s("div",{staticClass:"bar-inner"},[s("div",{ref:"progress",staticClass:"progress"}),t._v(" "),s("div",{staticClass:"progress-btn-wrapper"},[s("div",{ref:"btn",staticClass:"progress-btn",on:{touchstart:function(e){return e.preventDefault(),t.pTouchstart(e)},touchmove:function(e){return e.preventDefault(),t.pTouchMove(e)},touchend:function(e){return e.preventDefault(),t.pTouchEnd(e)}}})])])])},staticRenderFns:[]};var n=s("C7Lr")(i,r,!1,function(t){s("UnoY")},"data-v-08fc1c57",null);e.default=n.exports},Hox3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-header"},[e("div",{staticClass:"icon"}),this._v(" "),e("h1",{staticClass:"text"},[this._v("Net Music")])])}]};var r=s("C7Lr")({},i,!1,function(t){s("pzQT")},"data-v-a5a82cfe",null);e.default=r.exports},Kh7O:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};s.d(i,"selectPlay",function(){return y});var r={};s.d(r,"singer",function(){return g}),s.d(r,"playing",function(){return _}),s.d(r,"fullScreen",function(){return C}),s.d(r,"playlist",function(){return b}),s.d(r,"squenceList",function(){return S}),s.d(r,"mode",function(){return L}),s.d(r,"currentIndex",function(){return T}),s.d(r,"currentSong",function(){return E});var n=s("EqYI"),a=s("Hox3"),c=s("u+1G"),o=s("3unW"),l={name:"App",components:{HHeader:a.default,Tabs:c.default,Player:o.default}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("h-header"),this._v(" "),e("tabs"),this._v(" "),e("keep-alive",[e("router-view")],1),this._v(" "),e("player")],1)},staticRenderFns:[]};var d=s("C7Lr")(l,u,!1,function(t){s("ZGRb")},"data-v-f01e4aba",null).exports,h=s("7LQH");function f(t){return function(){return s("mUJ2")("./"+t+".vue")}}n.a.use(h.a);var p,v=new h.a({routes:[{path:"/",redirect:"/recommend"},{path:"/recommend",component:f("recommend/recommend")},{path:"/search",component:f("search/search")},{path:"/rank",component:f("rank/rank")},{path:"/rank_detail",component:f("rank/rankDetail")},{path:"/singer",component:f("singer/singer")},{path:"/singer_detail",component:f("singer/singerDetail")},{path:"/song",component:f("song/song")},{path:"/player",name:"player",component:f("player/player")},{path:"/radio",name:"radio",component:f("recommend/radio")}]}),m=s("2bvH"),y=function(t,e){var s=t.commit,i=(t.state,e.list),r=e.index;s("SET_SEQUENCE_LIST",i),s("SET_PLAYLIST",i),s("SET_CURRENT_INDEX",r),s("SET_FULL_SCREEN",!0),s("SET_PLAYING_STATE",!0)},g=function(t){return t.singer},_=function(t){return t.playing},C=function(t){return t.fullScreen},b=function(t){return t.playlist},S=function(t){return t.sequenceList},L=function(t){return t.mode},T=function(t){return t.currentIndex},E=function(t){return t.playlist[t.currentIndex]||{}},P={singer:{},playing:!1,fullScreen:!1,playlist:[],sequenceList:[],mode:s("W/7t").a.squence,currentIndex:-1},w=s("a3Yh"),k=s.n(w),x=(p={},k()(p,"SET_SINGER",function(t,e){t.singer=e}),k()(p,"SET_PLAYING_STATE",function(t,e){t.playing=e}),k()(p,"SET_FULL_SCREEN",function(t,e){t.fullScreen=e}),k()(p,"SET_PLAYLIST",function(t,e){t.playlist=e}),k()(p,"SET_SEQUENCE_LIST",function(t,e){t.sequenceList=e}),k()(p,"SET_PLAY_MODE",function(t,e){t.mode=e}),k()(p,"SET_CURRENT_INDEX",function(t,e){t.currentIndex=e}),p);n.a.use(m.a);var M=new m.a.Store({actions:i,getters:r,state:P,mutations:x});s("34KM");n.a.config.productionTip=!1,new n.a({el:"#app",router:v,store:M,render:function(t){return t(d)}})},T452:function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"d",function(){return r}),s.d(e,"a",function(){return n}),s.d(e,"c",function(){return a}),s.d(e,"f",function(){return c}),s.d(e,"e",function(){return o});var i={g_tk:5381,inCharset:"utf-8",outCharset:"utf-8",notice:0,format:"jsonp"},r={param:"jsonpCallback"},n=0,a={baseUrl:"http://aqqmusic.tc.qq.com/amobile.music.tc.qq.com/C400",param:".m4a?guid=8695206164&vkey=9A54ADE397F62F376C2F796CB663F63D591E6417D78F9C781D76E9447D2DE657131AA3CCFD02BB04643938E47B2F0B33F3388FF7DF803CD6&uin=0&fromtag=38"},c={baseUrl:"http://stream0.qqmusic.qq.com/",param:".wma"},o={baseUrl:"http://y.gtimg.cn/music/photo_new/T001R300x300M000",param:".jpg?max_age=2592000"}},UnoY:function(t,e){},"W/7t":function(t,e,s){"use strict";s.d(e,"a",function(){return i});var i={squence:0,loop:1,random:2}},ZGRb:function(t,e){},dXxw:function(t,e){},mUJ2:function(t,e,s){var i={"./base/progress-bar/progress-bar.vue":["6AoW"],"./base/scroll/scroll.vue":["1PCG"],"./base/slider/slider.vue":["iGfL",7],"./base/song-list/song-list.vue":["T+mS",0],"./header/h-header.vue":["Hox3"],"./player/player.vue":["3unW"],"./rank/rank.vue":["Kjo5",0,4],"./rank/rankDetail.vue":["9h5z",0,6],"./recommend/radio.vue":["4gLu",0,9],"./recommend/recommend.vue":["W1+L",0,1],"./search/search.vue":["YOyO",0,5],"./singer/singer.vue":["0IpB",0,3],"./singer/singerDetail.vue":["dGhF",0,2],"./song/song.vue":["zJzS",8],"./tabs/tabs.vue":["u+1G"]};function r(t){var e=i[t];return e?Promise.all(e.slice(1).map(s.e)).then(function(){return s(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}r.keys=function(){return Object.keys(i)},r.id="mUJ2",t.exports=r},pzQT:function(t,e){},qkz0:function(t,e){},"u+1G":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/recommend"}},[e("span",{staticClass:"tab-link"},[this._v("推荐")])]),this._v(" "),e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/singer"}},[e("span",{staticClass:"tab-link"},[this._v("歌手")])]),this._v(" "),e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/rank"}},[e("span",{staticClass:"tab-link"},[this._v("排行")])]),this._v(" "),e("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/search"}},[e("span",{staticClass:"tab-link"},[this._v("搜索")])])],1)},staticRenderFns:[]};var r=s("C7Lr")({},i,!1,function(t){s("Kh7O")},"data-v-8181b700",null);e.default=r.exports}},["NHnr"]);
//# sourceMappingURL=app.a0d2be9f5f6949144ebb.js.map