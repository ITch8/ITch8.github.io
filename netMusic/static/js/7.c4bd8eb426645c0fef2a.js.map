{"version":3,"sources":["webpack:///./src/common/js/dom.js","webpack:///src/components/base/slider/slider.vue","webpack:///./src/components/base/slider/slider.vue?b25d","webpack:///./src/components/base/slider/slider.vue"],"names":["addClass","el","className","RegExp","test","hasClass","classNames","split","push","join","slider","props","loop","type","Boolean","default","autoPlay","interval","Number","showDot","click","threshold","speed","data","dots","currentPageIndex","mounted","_this","this","update","window","addEventListener","enabled","clearTimeout","resizeTimer","setTimeout","isInTransition","_onScrollEnd","_play","refresh","activated","enable","pageIndex","getCurrentPage","pageX","goToPage","deactivated","disable","timer","beforeDestroy","methods","_this2","destroy","$nextTick","init","_setSlideWidth","prev","next","_initDots","_initSlide","isResize","children","$refs","sliderGroup","width","slideWidth","clientWidth","i","length","child","style","_this3","console","log","bscroll_esm","scrollX","scrollY","momentum","snap","bounce","stopPropagation","on","Array","_this4","watch","slider_slider","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_t","_v","_l","item","index","key","class","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.c4bd8eb426645c0fef2a.js","sourcesContent":["//为el添加该class\r\nexport function addClass(el,className){\r\n\tif(hasClass(el,className)){\r\n\t\treturn\r\n\t}\r\n\tlet classNames = el.className.split(\" \")\r\n\tclassNames.push(className)//添加\r\n\tel.className = classNames.join(\" \")\r\n}\r\n//判断el是否含有该class\r\nexport function hasClass(el,className){\r\n\tlet reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\r\n\treturn reg.test(el.className)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","<template>\r\n\t<div class=\"slider\" ref=\"slider\">\r\n\t\t<div class=\"slider-group\" ref=\"sliderGroup\">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t\t<div class=\"dots\">\r\n\t\t\t<span v-for=\"(item,index) in dots\" :class=\"[ index == currentPageIndex ? 'active dot':'dot' ]\" :key=\"index\"></span>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n\timport {\r\n\t\taddClass\r\n\t} from 'common/js/dom'\r\n\timport BScroll from 'better-scroll'\r\n\r\n\texport default {\r\n\t\t//   name: COMPONENT_NAME,\r\n\t\tprops: {\r\n\t\t\tloop: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tautoPlay: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tinterval: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 4000\r\n\t\t\t},\r\n\t\t\tshowDot: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tclick: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tthreshold: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0.3\r\n\t\t\t},\r\n\t\t\tspeed: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 400\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdots: [],\r\n\t\t\t\tcurrentPageIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.update();\r\n\t\t\twindow.addEventListener(\"resize\", () => {\r\n\t\t\t\tif (!this.slider || !this.slider.enabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(this.resizeTimer);\r\n\t\t\t\tthis.resizeTimer = setTimeout(() => {\r\n\t\t\t\t\tif (this.slider.isInTransition) {\r\n\t\t\t\t\t\tthis._onScrollEnd();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.autoPlay) {\r\n\t\t\t\t\t\t\tthis._play();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}, 60);\r\n\t\t\t});\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tif (!this.slider) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.slider.enable();\r\n\t\t\tlet pageIndex = this.slider.getCurrentPage().pageX;\r\n\t\t\tthis.slider.goToPage(pageIndex, 0, 0);\r\n\t\t\tthis.currentPageIndex = pageIndex;\r\n\t\t\tif (this.autoPlay) {\r\n\t\t\t\tthis._play();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdeactivated() {\r\n\t\t\tthis.slider.disable();\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.slider.disable();\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tupdate() {\r\n\t\t\t\tif (this.slider) {\r\n\t\t\t\t\tthis.slider.destroy();\r\n\t\t\t\t}\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trefresh() {\r\n\t\t\t\tthis._setSlideWidth(true);\r\n\t\t\t\tthis.slider.refresh();\r\n\t\t\t},\r\n\t\t\tprev() {\r\n\t\t\t\tthis.slider.prev();\r\n\t\t\t},\r\n\t\t\tnext() {\r\n\t\t\t\tthis.slider.next();\r\n\t\t\t},\r\n\t\t\tinit() {\r\n\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t\tthis.currentPageIndex = 0;\r\n\t\t\t\tthis._setSlideWidth();\r\n\t\t\t\tif (this.showDot) {\r\n\t\t\t\t\tthis._initDots();\r\n\t\t\t\t}\r\n\t\t\t\tthis._initSlide();\r\n\t\t\t\tif (this.autoPlay) {\r\n\t\t\t\t\tthis._play();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_setSlideWidth(isResize) {\r\n\t\t\t\tthis.children = this.$refs.sliderGroup.children;\r\n\t\t\t\tlet width = 0;\r\n\t\t\t\tlet slideWidth = this.$refs.slider.clientWidth;\r\n\t\t\t\tfor (let i = 0; i < this.children.length; i++) {\r\n\t\t\t\t\tlet child = this.children[i];\r\n\t\t\t\t\taddClass(child, \"slider-item\");\r\n\t\t\t\t\tchild.style.width = slideWidth + \"px\";\r\n\t\t\t\t\twidth += slideWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.loop && !isResize) {\r\n\t\t\t\t\twidth += 2 * slideWidth;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.sliderGroup.style.width = width + \"px\";\r\n\t\t\t},\r\n\t\t\t_initSlide() {\r\n\t\t\t\tconsole.log(this.threshold);\r\n\t\t\t\tthis.slider = new BScroll(this.$refs.slider, {\r\n\t\t\t\t\tscrollX: true,\r\n\t\t\t\t\tscrollY: false,\r\n\t\t\t\t\tmomentum: false,\r\n\t\t\t\t\tsnap: {\r\n\t\t\t\t\t\tloop: this.loop,\r\n\t\t\t\t\t\tthreshold: this.threshold,\r\n\t\t\t\t\t\tspeed: this.speed\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbounce: false,\r\n\t\t\t\t\tstopPropagation: true,\r\n\t\t\t\t\tclick: this.click\r\n\t\t\t\t});\r\n\t\t\t\tthis.slider.on(\"scrollEnd\", this._onScrollEnd);\r\n\t\t\t\tthis.slider.on(\"touchEnd\", () => {\r\n\t\t\t\t\tif (this.autoPlay) {\r\n\t\t\t\t\t\tthis._play();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.slider.on(\"beforeScrollStart\", () => {\r\n\t\t\t\t\tif (this.autoPlay) {\r\n\t\t\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t_onScrollEnd() {\r\n\t\t\t\tlet pageIndex = this.slider.getCurrentPage().pageX;\r\n\t\t\t\tthis.currentPageIndex = pageIndex;\r\n\t\t\t\tif (this.autoPlay) {\r\n\t\t\t\t\tthis._play();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_initDots() {\r\n\t\t\t\tthis.dots = new Array(this.children.length);\r\n\t\t\t},\r\n\t\t\t_play() {\r\n\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.slider.next();\r\n\t\t\t\t}, this.interval);\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tloop() {\r\n\t\t\t\tthis.update();\r\n\t\t\t},\r\n\t\t\tautoPlay() {\r\n\t\t\t\tthis.update();\r\n\t\t\t},\r\n\t\t\tspeed() {\r\n\t\t\t\tthis.update();\r\n\t\t\t},\r\n\t\t\tthreshold() {\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"~common/stylus/variable\"\r\n\r\n  .slider\r\n    min-height: 1px\r\n    .slider-group\r\n      position: relative\r\n      overflow: hidden\r\n      white-space: nowrap\r\n      .slider-item\r\n        float: left\r\n        box-sizing: border-box\r\n        overflow: hidden\r\n        text-align: center\r\n        a\r\n          display: block\r\n          width: 100%\r\n          overflow: hidden\r\n          text-decoration: none\r\n        img\r\n          display: block\r\n          width: 100%\r\n    .dots\r\n      position: absolute\r\n      right: 0\r\n      left: 0\r\n      bottom: 12px\r\n      text-align: center\r\n      font-size: 0\r\n      .dot\r\n        display: inline-block\r\n        margin: 0 4px\r\n        width: 8px\r\n        height: 8px\r\n        border-radius: 50%\r\n        background: $color-text-l\r\n        &.active\r\n          width: 20px\r\n          border-radius: 5px\r\n          background: $color-text-ll\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/base/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,class:[ index == _vm.currentPageIndex ? 'active dot':'dot' ]})}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4409b988\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4409b988\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4409b988\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4409b988\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/slider/slider.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}